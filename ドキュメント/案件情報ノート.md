# リフレクションノート

• 「生データ」を精読し、AIへの指示書となる**「リフレクション・ノート.md」**というファイルを手動で作成する。これは、AIの思考の質を決定づける最も重要な工程となる。

```markdown
# 案件名：〇〇プロジェクト リフレクション・ノート

## 1. プロジェクト概要 (5W1H)
- **When (いつ):** 2023年10月〜2024年3月
- **Where (どこで):** 〇〇株式会社様
- **Who (誰が):** 担当PM: 〇〇, 担当エンジニア: 〇〇
- **What (何を):** 〇〇を実現するためのデータ基盤構築
- **Why (なぜ):** 既存システムのパフォーマンス低下と、データ活用のニーズ増大のため
- **How (どのように):** AWSとSnowflakeを組み合わせたモダンなアーキテクチャを提案・構築

## 2. 顧客の最重要課題 (Pain Point)
- **表層的な課題:** 「システムの動作が遅い」
- **深層的な課題:** 「データに基づいた迅速な経営判断ができず、競合に遅れをとっている」という経営層の強い危機感。
- **担当者の個人的な課題:** 「プロジェクトを成功させ、社内での評価を高めたい」という思い。

## 3. 提案の核心 (Key Value Proposition)
- **我々が提案した解決策の核心:**
  - 単なる高速化ではなく、「データ活用によるビジネス成長」をゴールに設定したこと。
- **技術的な差別化ポイント:**
  - 〇〇という技術選定により、将来的な拡張性を担保したこと。
- **顧客に最も響いた一言:**
  - 「我々は、単なる開発パートナーではなく、御社のビジネス成長にコミットするパートナーです」

## 4. プロジェクトの重要な意思決定と、その理由
- **意思決定1:** 当初検討していた技術Aではなく、技術Bを採用した。
  - **理由:** コストは若干高くなるが、〇〇という点で長期的なTCO（総所有コスト）を削減できると判断したため。
- **意思決定2:** スコープ外だった〇〇機能の追加要望に対し、有償での対応とした。
  - **理由:** プロジェクトの遅延リスクを回避し、かつ追加開発の価値を顧客に正しく認識してもらうため。

## 5. 引用元ドキュメントからの抜粋 (Raw Excerpts for RAG)
- **[議事録_20231015.pdf] p.3より:**
  > "顧客担当者〇〇様の発言：『パフォーマンスもさることながら、本当に困っているのは、月末にならないと売上データが確定しないことなんです...』"
- **[Slack_#proj-xxx_20231102]より:**
  > "エンジニア〇〇の発言：『技術Aだと、将来的にデータ量が増えた時にスケールアウトが難しい。技術Bならその心配はない。』"
```

### **リフレクション・ノート作成の進化ロードマップ (3つのフェーズ)**

| **フェーズ** | **車の運転に例えると…** | **リフレクション・ノートの作成者** | **目的と役割** |
| --- | --- | --- | --- |
| **Phase 1: 職人フェーズ (PoC)** | **教習所で教官が運転する** | **LISA開発者** | 最高のノートを手作りし、「理想形」の品質と価値を定義する。 |
| **Phase 2: 仕組み化フェーズ (MVP)** | **仮免許で、人間が運転し、AIが支援する** | **プロジェクトのPM or リーダー** | LISAの支援を受けながら、重要な点のみを入力する。 |
| **Phase 3: 自動化フェーズ (最終形態)** | **完全自動運転レベル5** | **LISA自身** | AIが自律的にドラフトを生成し、人間は最終レビューのみ。 |

---

### **各フェーズの具体的な流れ**

## プロジェクトの進化フェーズ定義

本セクションでは、プロジェクトが概念実証から完全自動化に至るまでの3つの進化フェーズを定義する。

### Phase 1: 手動作成フェーズ (PoC) - ベストプラクティスの確立

- **活動内容:**
本フェーズは、プロジェクトの概念実証（PoC）段階に相当する。担当者が専門的知見に基づき、最適な案件データから最高品質の「リフレクション・ノート」を完全に手動で作成する。
- **目的:**
AIモデルのトレーニングには、高品質な「正解データ」としての「良いノート」が不可欠である。本フェーズで作成するノートは、その最初の、そして最も重要なベンチマーク（お手本）となる。

### Phase 2: 協業フェーズ (MVP) - 人間とAIによるプロセス構築

- **活動内容:**
本フェーズは、システム（LISA）が初めて実運用に導入される段階である。プロジェクト完了後、LISAはPM（プロジェクトマネージャー）やリーダーに対し、以下のような定義済みの質問項目を提示する。
    - `「今回のプロジェクトで、顧客の課題を解決した決め手は何でしたか？」`
    - `「技術選定で最も悩んだ点と、最終的な判断理由を教えてください。」`
    
    担当者は、これらの重要な質問に回答する。LISAは、その**回答（人間の暗黙知）**と、データパイプライン（`ezpipe`）経由で収集した**客観的なデータ（事実）**を統合し、リフレクション・ノートのドラフトを自動生成する。
    
- **目的:**
ゼロからのノート作成負荷を排除し、担当者が最も価値の高い活動である「内省」に集中できる環境を構築する。このプロセスを通じて収集されるデータ（人間の思考と客観的事実の関連性）は、次フェーズの完全自動化に向けた重要な教師データとなる。

### Phase 3: 自律生成フェーズ (完全自動化) - AIによる自律的運用

- **活動内容:**
本フェーズは、アーキテクチャの中核をなす**「Analyze Engine」**が全面的に稼働する段階である。プロジェクト完了後、LISAは収集した全データを自律的に分析する。クラスタリングや構造化マッピング等の技術を駆使し、**人間による初期入力を必要とせず、リフレクション・ノートのドラフトを完全に自動生成**する。担当者の役割は、AIが生成したドラフトのレビューと承認に移行する。
- **実現可能性:**
Phase 2において、人間が修正・承認した大量の「正解データ」をLISAが継続的に学習することで、AIの生成精度が向上する。これにより、最終的にAIが自律して高品質なノートを生成する能力を獲得することが可能となる。

## リフレクションノート自動生成の技術的プロセス

リフレクションノートの自動生成は、以下の4つのステップで構成される。

### Step 1: 収集 (Collection) - 関連情報の特定と収集

まず、システム（LISA）はデータパイプライン（`ezpipe`）を通じて、特定のプロジェクトに関連する全データソースにアクセスし、情報を収集する。

- **関連性判断のロジック:**
    - **メタデータ:** プロジェクト名、案件コード、期間、参加メンバーといったメタデータをキーとして、関連情報を特定する。
        - **Notion:** プロジェクト名に紐づくページやデータベース。
        - **Slack:** プロジェクト専用チャンネル（例: `#proj-hogehoge`）。
    - **セマンティック検索:** 「〇〇プロジェクトについて」といった自然言語クエリに基づき、関連性の高いドキュメントや会話をベクトル検索によって特定する。
- **収集対象データ:**
    - **Notion:**
        - 議事録データベースの全ページ
        - 要件定義書、設計書
        - プロジェクト管理ボード上のタスク
    - **Slack:**
        - 専用チャンネルの全会話ログ
        - 特定のリアクション（例: 👀, ✅, 💡）が付与された重要会話
        - 共有されたファイルやコードスニペット

### Step 2: 要約とクラスタリング (Summarization & Clustering) - 意味的単位の形成

収集した大量の非構造化テキストデータは、そのままでは分析が困難であるため、意味のある情報単位（クラスター）へと整理する。

- **技術的アプローチ:**
    1. **チャンキング (Chunking):** 長文のドキュメントや会話ログを、意味的なまとまりを持つ小さな単位（チャンク）に分割する。
    2. **要約 (Summarization):** 各チャンクに対し、LLM（大規模言語モデル）を用いてその内容を要約した短文を生成する。
    3. **クラスタリング (Clustering):** 生成された要約文をベクトル化し、意味的に類似するベクトル群をグループ化（クラスタリング）する。
- **生成される成果物:**
このプロセスにより、以下のような「意味のクラスター」が自動的に形成される。
    - **クラスターA:** 顧客の性能要件に関する議論群
    - **クラスターB:** 技術選定（A案 vs B案）に関する議論群
    - **クラスターC:** 予算・納期に関する調整の会話群
    - **クラスターD:** プロジェクト完了後の顧客フィードバック群

### Step 3: 構造化マッピング (Structured Mapping) - 情報の項目割り当て

次に、形成されたクラスターを「リフレクション・ノート」の定義済み項目にマッピングする。本ステップは、文脈理解に基づく高度な分類能力をAIに要求する重要なプロセスである。

- **技術的アプローチ:**
LLMに対し、以下のプロンプト例のような分類タスクを実行させる。
    
    ```
    あなたは優秀なプロジェクトアナリストです。以下の情報クラスターを、「リフレクション・ノート」の項目（1. 概要, 2. 課題, 3. 解決策, 4. 意思決定）のいずれかに分類してください。
    
    【情報クラスター】
    クラスターA: 顧客からの性能要件に関する議論の塊
    クラスターB: 技術選定（A案 vs B案）に関する議論の塊
    
    【出力形式】
    クラスターA: 2. 課題
    クラスターB: 4. 意思決定
    
    ```
    
- **生成される成果物:**
このマッピングにより、リフレクション・ノートの構造的な骨子が自動的に構築される。
    - **`2. 顧客の最重要課題`** ← クラスターAの内容を基に記述
    - **`4. プロジェクトの重要な意思決定`** ← クラスターBの内容を基に記述

### Step 4: 生成と統合 (Generation & Synthesis) - 文章の生成と統合

最終ステップとして、各項目にマッピングされた情報クラスターを基に、自然言語の文章を生成し、一つの「リフレクション・ノート」として統合する。

- **技術的アプローチ:**
各項目ごとに、LLMに対して以下のプロンプト例のような文章生成タスクを実行させる。
    
    ```
    あなたは優秀なライターです。以下の議論の要約を元に、「リフレクション・ノート」の「4. プロジェクトの重要な意思決定」の章を記述してください。意思決定の内容とその理由が明確にわかるように、簡潔に記述してください。
    
    【参考情報：クラスターBの要約】
    - 技術Aと技術Bの比較検討
    - 当初のコストはAが安いが、将来的な拡張性に懸念
    - PMの〇〇が、長期的なTCOを考慮し、技術Bを推奨
    - 最終的に技術Bが採用された
    
    【出力】
    (AIが生成した文章)
    
    ```
    
- **最終成果物:**
これにより、人間によるレビューと承認が可能な、構造化された「リフレクション・ノート」のドラフトが完成する。